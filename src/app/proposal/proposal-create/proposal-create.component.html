<form id="proposal-form" (ngSubmit)="onSubmit()" #form="ngForm">
  <fieldset>

    <!-- Title -->
    <div class="form-group mb-3" [class.was-validated]="title.invalid && (title.dirty || title.touched)">
      <label for="title" class="control-label">Title*</label>
      <input id="title" name="title" type="text" class="form-control" required
             [(ngModel)]="proposal.title" #title="ngModel">
      <div class="invalid-feedback">A title is required</div>
    </div>

    <!-- Description -->
    <div class="form-group mb-3" [class.was-validated]="description.invalid && (description.dirty || description.touched)">
      <label for="description" class="control-label">Description*</label>
      <textarea id="description" name="description" class="form-control" required
                [(ngModel)]="proposal.description" #description="ngModel"></textarea>
      <div class="invalid-feedback">A description is required</div>
    </div>

    <!-- Timing -->
    <div class="form-group mb-3" [class.was-validated]="timing.invalid && (timing.dirty || timing.touched)">
      <label for="timing" class="control-label">Timing*</label>
      <input id="timing" name="timing" type="text" class="form-control" required
             [(ngModel)]="proposal.timing" #timing="ngModel">
      <div class="invalid-feedback">Timing is required</div>
    </div>

    <!-- Speciality -->
    <div class="form-group mb-3" [class.was-validated]="speciality.invalid && (speciality.dirty || speciality.touched)">
      <label for="speciality" class="control-label">Speciality*</label>
      <input id="speciality" name="speciality" type="text" class="form-control" required
             [(ngModel)]="proposal.speciality" #speciality="ngModel">
      <div class="invalid-feedback">Speciality is required</div>
    </div>

    <!-- Kind -->
    <div class="form-group mb-3" [class.was-validated]="kind.invalid && (kind.dirty || kind.touched)">
      <label for="kind" class="control-label">Kind*</label>
      <input id="kind" name="kind" type="text" class="form-control" required
             [(ngModel)]="proposal.kind" #kind="ngModel">
      <div class="invalid-feedback">Kind is required</div>
    </div>

    <!-- Keywords -->
    <div class="form-group mb-3" [class.was-validated]="keywords.invalid && (keywords.dirty || keywords.touched)">
      <label for="keywords" class="control-label">Keywords*</label>
      <input id="keywords" name="keywords" type="text" class="form-control" required
             [(ngModel)]="proposal.keywords" #keywords="ngModel">
      <div class="invalid-feedback">Keywords are required</div>
    </div>

    <!-- Owner (ID) -->
    <div class="form-group mb-3" [class.was-validated]="owner.invalid && (owner.dirty || owner.touched)">
      <label for="owner" class="control-label">Owner ID*</label>
      <input id="owner" name="owner" type="number" class="form-control" required
             [(ngModel)]="proposal.owner" #owner="ngModel">
      <div class="invalid-feedback">Owner ID is required</div>
    </div>

    <!-- Categories (comma-separated IDs) -->
    <div class="form-group mb-3">
      <label for="categories" class="control-label">Category IDs (comma-separated)</label>
      <input id="categories" name="categories" type="text" class="form-control"
             [(ngModel)]="proposal.categoriesRaw">
      <small class="form-text text-muted">E.g., 1,2,3</small>
    </div>

    <!-- Chat (optional) -->
    <div class="form-group mb-3">
      <label for="chat" class="control-label">Chat ID (optional)</label>
      <input id="chat" name="chat" type="number" class="form-control"
             [(ngModel)]="proposal.chat">
    </div>

    <!-- Student (optional) -->
    <div class="form-group mb-3">
      <label for="student" class="control-label">Student ID (optional)</label>
      <input id="student" name="student" type="number" class="form-control"
             [(ngModel)]="proposal.student">
    </div>

    <!-- Codirector (optional) -->
    <div class="form-group mb-3">
      <label for="codirector" class="control-label">Codirector ID (optional)</label>
      <input id="codirector" name="codirector" type="number" class="form-control"
             [(ngModel)]="proposal.codirector">
    </div>

    <!-- Director (optional) -->
    <div class="form-group mb-3">
      <label for="director" class="control-label">Director ID (optional)</label>
      <input id="director" name="director" type="number" class="form-control"
             [(ngModel)]="proposal.director">
    </div>

    <!-- Action Buttons -->
    <div class="form-group d-flex justify-content-end">
      <button type="button" class="btn btn-outline-secondary me-2" (click)="onCancel()">Cancel</button>
      <button type="submit" class="btn btn-success" [disabled]="!form.valid">Submit</button>
    </div>

  </fieldset>
</form>
